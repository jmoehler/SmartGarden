Wie werden Spikes erkannt?

Die Daten kommen über die sensors.py API (Line 135) an und werden dort an die filterSpikes(sensor_type, data) übertragen.

Zuerst wird zwischen den einzelnen Sersor Typen unterschieden.
Es werden 3 Gruppen unterschieden:
1. "normale" Sensoren (ph, ec, temperature, humidity)
2. Lichtsensor
3. Wassersensor

Grund für die unterscheidung sind die Anzahl der Sensordaten.
Sensoren der Gruppe 1 liefern nur einen Wert.
Der Lichtsensor liefert 3 verschiedene Daten.
Der Wassersensor kann nur 0 oder 1 als Wert annehmen.

Für die Gruppen 1 und 2 werden die Sensorwerte der letzten X Sekunden aus der Datenbank gezogen.
Sollten es <= 15 Datensätze sein, wird der neue in die Datenbank aufgenommen.

Mit den Datensätzen aus der Datenbank wird nun die IQR Analyse durchgeführt.
Dabei werden die Quantile Q1 und Q3 berechnet, welche die obere / untere Schranke bilden.
Liegt der neue Wert zwischen den Schranken gibt die Funktion True zurück und der neue Datensatz wird in die DB geseichert.
Liegt der neue Wert außerhalb, gibt die Funktion False zurück und der Datensatz wird verworfen.

Für den Wassersensor werden die eingehenden Empties gezählt.
Erst ab Y Empties, wird der Empty in die Datenbank gespeichert.
Sind weniger als Y Empties eingegangen wird der Datensatz verworfen.

Ein Full wird sofort in die DB geschrieben und der Empty-Counter wieder auf 0 gesetzt.

